<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Demixing and deconvolution of calcium imaging data : Matlab implementation of a source extraction and spike inference algorithm for large scale calcium imaging data analysis, based on a constrained matrix factorization approach.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Demixing and deconvolution of calcium imaging data</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/epnev/ca_source_extraction">View on GitHub</a>

          <h1 id="project_title">Demixing and deconvolution of calcium imaging data</h1>
          <h2 id="project_tagline">Matlab implementation of a source extraction and spike inference algorithm for large scale calcium imaging data analysis, based on a constrained matrix factorization approach.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/epnev/ca_source_extraction/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/epnev/ca_source_extraction/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="deconvolution-and-demixing-of-calcium-imaging-data" class="anchor" href="#deconvolution-and-demixing-of-calcium-imaging-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deconvolution and demixing of calcium imaging data</h1>

<p><a href="https://gitter.im/epnev/ca_source_extraction?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/epnev/ca_source_extraction"></a></p>

<p>The code implements a method for simultaneous source extraction and spike inference from large scale calcium imaging movies. The code is suitable for the analysis of somatic imaging data. Implementation for the analysis of dendritic/axonal imaging data will be added in the future. </p>

<p>The algorithm is presented in more detail in</p>

<p>Pnevmatikakis, E.A., Soudry, D., Gao, Y., Machado, T., Merel, J., ... &amp; Paninski, L. (2016). Simultaneous denoising, deconvolution, and demixing of calcium imaging data. Neuron, in press, <a href="http://dx.doi.org/10.1016/j.neuron.2015.11.037">http://dx.doi.org/10.1016/j.neuron.2015.11.037</a></p>

<p>Pnevmatikakis, E.A., Gao, Y., Soudry, D., Pfau, D., Lacefield, C., ... &amp; Paninski, L. (2014). A structured matrix factorization framework for large scale calcium imaging data analysis. arXiv preprint arXiv:1409.2903. <a href="http://arxiv.org/abs/1409.2903">http://arxiv.org/abs/1409.2903</a></p>

<h1>
<a id="code-description-and-related-packages" class="anchor" href="#code-description-and-related-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code description and related packages</h1>

<p>This repository contains a MATLAB implementation of the spatio-temporal demixing, i.e., (source extraction) code for large scale calcium imaging data. Related code can be found in the following links:</p>

<h2>
<a id="matlab" class="anchor" href="#matlab" aria-hidden="true"><span class="octicon octicon-link"></span></a>Matlab</h2>

<ul>
<li><a href="https://github.com/epnev/constrained-foopsi">Constrained deconvolution for neural activity (spike) extraction</a></li>
<li><a href="https://github.com/epnev/ca_source_extraction">Source extraction (this package)</a></li>
<li><a href="https://github.com/epnev/continuous_time_ca_sampler">MCMC spike inference</a></li>
<li><a href="https://github.com/danielso/ROI_detect">Group LASSO initialization</a></li>
</ul>

<h2>
<a id="python" class="anchor" href="#python" aria-hidden="true"><span class="octicon octicon-link"></span></a>Python</h2>

<ul>
<li><a href="https://github.com/epnev/constrained_foopsi_python">Constrained deconvolution for neural activity (spike) extraction</a></li>
<li><a href="https://github.com/agiovann/SOURCE_EXTRACTION_PYTHON">Source extraction</a></li>
<li><a href="https://github.com/danielso/ROI_detect">Group LASSO initialization</a></li>
</ul>

<h2>
<a id="integration-with-other-libraries" class="anchor" href="#integration-with-other-libraries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Integration with other libraries</h2>

<ul>
<li>
<a href="http://www.losonczylab.org/sima/1.3/">SIMA</a>: The <a href="https://github.com/losonczylab/sima/blob/master/sima/spikes.py">constrained deconvolution</a> method has been integrated with SIMA, a Python based library for calcium imaging data analysis.</li>
<li>
<a href="http://thunder-project.org/">Thunder</a>: The <a href="https://github.com/j-friedrich/thunder/tree/LocalNMF">group LASSO initialization</a> method has been integrated with Thunder, a library for large scale neural data analysis with Spark.</li>
</ul>

<h1>
<a id="usage-and-documentation" class="anchor" href="#usage-and-documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage and Documentation</h1>

<p>Check the demo scripts and documentation.pdf to get started.</p>

<h1>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h1>

<p>The following matlab toolboxes are needed for the default parameter settings:</p>

<ul>
<li>Statistics and Machine Learning Toolbox</li>
<li>Image processing toolbox</li>
</ul>

<p>Depending on the settings the following toolboxes may also be required</p>

<ul>
<li>Signal processing toolbox (recommended but not required)</li>
<li>Parallel computing toolbox (recommended for large datasets but not required)</li>
<li>Optimization toolbox (not required)</li>
</ul>

<p>The default options for the algorithm require the following packages:</p>

<ol>
<li>The constrained deconvolution package maintained separately in <a href="https://github.com/epnev/constrained-foopsi">https://github.com/epnev/constrained-foopsi</a> </li>
<li>The CVX library which can be downloaded from <a href="http://cvxr.com/cvx/download/">http://cvxr.com/cvx/download/</a> (follow the installation instructions provided there) </li>
</ol>

<p>Depending on the settings the following packages may also be required</p>

<ul>
<li>SPGL1 package from <a href="https://github.com/mpf/spgl1">https://github.com/mpf/spgl1</a> (for solving constrained_foopsi using SPGL1)</li>
<li>Bayesian spike inference package from <a href="https://github.com/epnev/continuous_time_ca_sampler">https://github.com/epnev/continuous_time_ca_sampler</a> (for using the 'MCMC" deconvolution method).</li>
</ul>

<h1>
<a id="questions-comments-issues" class="anchor" href="#questions-comments-issues" aria-hidden="true"><span class="octicon octicon-link"></span></a>Questions, comments, issues</h1>

<p>Please use the gitter chat room (use the button above) for questions and comments and create an issue for any bugs you might encounter.</p>

<h1>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h1>

<p>This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>

<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Demixing and deconvolution of calcium imaging data maintained by <a href="https://github.com/epnev">epnev</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
